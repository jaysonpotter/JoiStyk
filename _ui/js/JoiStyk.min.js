(function(g){function m(c,a){a.preventDefault();var b=c.getBoundingClientRect();return k?{x:a.targetTouches[0].clientX-b.left,y:a.targetTouches[0].clientY-b.top}:{x:a.clientX-b.left,y:a.clientY-b.top}}function t(a,c){var b=a.x-c.x,d=a.y-c.y;return Math.round(Math.sqrt(b*b+d*d))}function u(b){k&&(l=b.touches,r=b.changedTouches,s=l[0].identifier===r[0].identifier);if(s||!k)a=m(e,b),c=m(e,b)}function v(a){c=m(e,a)}function w(b){k&&(l=b.touches);0!==l.length&&k||(a=c=null)}var k="undefined"!==typeof document.ontouchend,
l=[],r=[],s,n,p,q,a,c,h,d,e,b,f=f||{};k?(n="touchstart",p="touchend",q="touchmove"):(n="mousedown",p="mouseup",q="mousemove");g.debug={showOptions:function(){return f},showDistance:function(){console.log(t(c,a))}};g.play=function(a){f=a;h=f.padsize-f.padsize%2||60;d=h/2;e=f.canvas;b=e.getContext("2d");e.addEventListener(q,v,!1);e.addEventListener(n,u,!1);e.addEventListener(p,w,!1)};g.draw=function(){a&&c?(c.x-d<a.x-h&&(a.x=c.x+d),c.x+d>a.x+h&&(a.x=c.x-d),c.y-d<a.y-h&&(a.y=c.y+d),c.y+d>a.y+h&&(a.y=
c.y-d),b.beginPath(),b.arc(a.x,a.y,h,0,2*Math.PI,!1),b.closePath(),b.fillStyle=f.padcolor||"rgb(31, 31, 31)",b.fill(),b.beginPath(),b.arc(c.x,c.y,d,0,2*Math.PI,!1),b.closePath(),b.fillStyle=f.stickcolor||"rgb(241, 241, 241)",b.fill(),g.x=c.x-a.x,g.y=c.y-a.y):(g.x=0,g.y=0)}})(window.JoiStyk=window.JoiStyk||{});